import{S as b,i as g,s as C,n as m,d as c,c as D,b as h,r as d,v as V,e as p,h as $,D as _,j as f,k as E,E as L,w as v}from"../chunks/DKRWnDpK.js";import"../chunks/IHki7fMi.js";function M(i){let e,n='<h1>Download Error</h1> <p>Sorry, there was an issue downloading the CV. You can try:</p> <ul class="svelte-n1kp1e"><li class="svelte-n1kp1e"><a href="https://github.com/Lissy93/cv/releases/latest" target="_blank" rel="noopener" class="svelte-n1kp1e">Visit the releases page directly</a></li> <li class="svelte-n1kp1e"><a href="/" class="svelte-n1kp1e">Return to the CV website</a></li></ul>';return{c(){e=f("div"),e.innerHTML=n,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),v(e)!=="svelte-18ghzii"&&(e.innerHTML=n),this.h()},h(){d(e,"class","error svelte-n1kp1e")},m(t,l){h(t,e,l)},d(t){t&&c(e)}}}function H(i){let e,n="<h1>Downloading CV...</h1> <p>Your download should start automatically. If it doesn&#39;t, please check that JavaScript is enabled.</p>";return{c(){e=f("div"),e.innerHTML=n,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),v(e)!=="svelte-1bri2sy"&&(e.innerHTML=n),this.h()},h(){d(e,"class","loading svelte-n1kp1e")},m(t,l){h(t,e,l)},d(t){t&&c(e)}}}function S(i){let e,n,t;function l(s,r){if(s[0]&&!s[1])return H;if(s[1])return M}let o=l(i),a=o&&o(i);return{c(){e=f("meta"),n=E(),a&&a.c(),t=_(),this.h()},l(s){const r=V("svelte-1u41p2k",document.head);e=p(r,"META",{name:!0,content:!0}),r.forEach(c),n=$(s),a&&a.l(s),t=_(),this.h()},h(){document.title="Downloading CV...",d(e,"name","robots"),d(e,"content","noindex")},m(s,r){D(document.head,e),h(s,n,r),a&&a.m(s,r),h(s,t,r)},p(s,[r]){o!==(o=l(s))&&(a&&a.d(1),a=o&&o(s),a&&(a.c(),a.m(t.parentNode,t)))},i:m,o:m,d(s){s&&(c(n),c(t)),c(e),a&&a.d(s)}}}function T(i,e,n){let t=!0,l=!1;return L(async()=>{try{const o="/alicia-sykes-cv.pdf";if((await fetch(o,{method:"HEAD"})).ok)window.location.href=o;else{const s="Lissy93",r="cv",k="Alicia-Sykes-CV.pdf",u=await fetch(`https://api.github.com/repos/${s}/${r}/releases/latest`);if(!u.ok)throw new Error("Failed to fetch release info");const w=(await u.json()).tag_name,y=`https://github.com/${s}/${r}/releases/download/${w}/${k}`;window.location.href=y}}catch(o){console.error("Download error:",o),n(1,l=!0),n(0,t=!1)}}),[t,l]}class I extends b{constructor(e){super(),g(this,e,T,S,C,{})}}export{I as component};
